require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"DeckDataSource":[function(require,module,exports){
var Card,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Card = require('DeckDefaultCard');

window.DeckDataSource = (function(superClass) {
  extend(DeckDataSource, superClass);

  function DeckDataSource(opts) {
    if (opts == null) {
      opts = {};
    }
    if (opts.cardViewModel == null) {
      opts.cardViewModel = Card.DeckCard;
    }
    if (opts.info == null) {
      opts.info = null;
    }
    this.cardType = opts.cardViewModel;
    this.view = new Layer({
      name: '__deckDataSourceViewContainer',
      x: 0,
      y: 0,
      clip: true,
      backgroundColor: false
    });
    this.cards = [];
    if (opts.info) {
      this.createCards(opts.info);
    }
  }

  DeckDataSource.define('cardView', {
    get: function() {
      return this.cardType;
    },
    set: function(viewClass) {
      return this.cardType = viewClass;
    }
  });

  DeckDataSource.prototype.createCards = function(infoObj) {
    var c, i, len, obj, p, results, v;
    results = [];
    for (i = 0, len = infoObj.length; i < len; i++) {
      obj = infoObj[i];
      c = new this.cardType({
        name: "DeckCard " + this.cards.length
      });
      c.superLayer = this.view;
      for (p in obj) {
        v = obj[p];
        c[p] = v;
      }
      results.push(this.cards.push(c));
    }
    return results;
  };

  DeckDataSource.prototype.getAll = function() {
    return this.cards;
  };

  return DeckDataSource;

})(Framer.BaseClass);



},{"DeckDefaultCard":"DeckDefaultCard"}],"DeckDefaultCard":[function(require,module,exports){
var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

exports.DeckCard = (function(superClass) {
  extend(DeckCard, superClass);

  function DeckCard(opts) {
    if (opts == null) {
      opts = {};
    }
    opts.width = 680;
    opts.height = 550;
    opts.backgroundColor = 'white';
    opts.shadowY = 8;
    opts.shadowBlur = 8;
    opts.shadowColor = 'rgba(0, 0, 0, .3)';
    if (opts.superLayer == null) {
      opts.superLayer = null;
    }
    DeckCard.__super__.constructor.call(this, opts);
    this.nameField = new Layer({
      backgroundColor: false,
      superLayer: this,
      y: 480,
      width: this.width
    });
    this.nameField.style = {
      'color': '#555',
      'font-size': '20pt',
      'text-align': 'center'
    };
  }

  DeckCard.define('title', {
    set: function(nameStr) {
      return this.nameField.html = nameStr;
    }
  });

  DeckCard.define('img', {
    set: function(imgUrl) {
      var _img;
      return _img = new Layer({
        superLayer: this,
        x: 44,
        y: 44,
        width: this.width - 88,
        height: this.height - 148,
        image: imgUrl
      });
    }
  });

  return DeckCard;

})(Layer);



},{}],"DraggableDeck":[function(require,module,exports){
var Card,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

require('DeckDataSource');

Card = require('DeckDefaultCard');

window.DraggableDeck = (function(superClass) {
  var REVEAL_TYPE;

  extend(DraggableDeck, superClass);

  DraggableDeck.DeckEvents = {
    DragStart: 'dragstart',
    DragMove: 'dragging',
    DragEnd: 'dragmove',
    DropLeft: 'dropleft',
    DropRight: 'dropright',
    DropCenter: 'dropcenter',
    Empty: 'empty',
    Next: 'next'
  };

  REVEAL_TYPE = {
    revealAll: 'revealall',
    onebyone: 'onebyone'
  };

  function DraggableDeck(opts) {
    if (opts == null) {
      opts = {};
    }
    if (!opts.dataSource) {
      throw new Error("NO DATA SOURCE? ");
    }
    if (opts.width == null) {
      opts.width = Screen.width;
    }
    if (opts.height == null) {
      opts.height = Screen.height;
    }
    if (opts.backgroundColor == null) {
      opts.backgroundColor = false;
    }
    opts.perspective = 500;
    if (opts.clip == null) {
      opts.clip = false;
    }
    if (opts.paddingY == null) {
      opts.paddingY = 0;
    }
    if (opts.dataSource == null) {
      opts.dataSource = null;
    }
    DraggableDeck.__super__.constructor.call(this, opts);
    opts.verificationFn = null;
    if (opts.startZ == null) {
      opts.startZ = 0;
    }
    if (opts.cardPadding == null) {
      opts.cardPadding = 15;
    }
    if (opts.cardZPadding == null) {
      opts.cardZPadding = 10;
    }
    this.type = REVEAL_TYPE.revealAll;
    this.startZ = opts.startZ;
    this.cardPadding = opts.cardPadding;
    this.cardZPadding = opts.cardZPadding;
    this.paddingY = opts.paddingY;
    this.selectionThreshold = 100;
    this.cardsList = [];
    if (opts.dataSource) {
      this._dataSource = opts.dataSource;
      this.loadCards();
    }
  }

  DraggableDeck.prototype.loadCards = function() {
    var allCards, card, i, j, len, results;
    allCards = this._dataSource.getAll().reverse();
    this.cardsList = [];
    results = [];
    for (i = j = 0, len = allCards.length; j < len; i = ++j) {
      card = allCards[i];
      card.superLayer = this;
      card.centerX();
      card.y = this.paddingY + (allCards.length - i - 1) * this.cardPadding;
      card.z = -this.startZ + (allCards.length - i - 1) * -this.cardZPadding;
      card.startX = card.x;
      card.startY = this.paddingY;
      this.cardsList.push(card);
      results.push(this.makeCardDraggable(card));
    }
    return results;
  };

  DraggableDeck.prototype.nextCard = function(card) {
    var c, i, j, k, len, len1, ref, ref1, results;
    ref = this.cardsList;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      c = ref[i];
      if (c === card) {
        this.cardsList.splice(i, 1);
        break;
      }
    }
    if (this.cardsList.length === 0) {
      this.emit(DraggableDeck.DeckEvents.Empty);
      return;
    }
    ref1 = this.cardsList;
    results = [];
    for (i = k = 0, len1 = ref1.length; k < len1; i = ++k) {
      c = ref1[i];
      results.push(c.animate({
        properties: {
          y: this.paddingY + (this.cardsList.length - i - 1) * this.cardPadding,
          z: -this.startZ + (this.cardsList.length - i - 1) * -this.cardZPadding
        },
        time: .2
      }));
    }
    return results;
  };

  DraggableDeck.prototype.rejectCard = function(card) {
    var cardOut;
    cardOut = card.animate({
      properties: {
        x: -1400
      },
      curve: "cubic-bezier(0.0, 0.0, 0.2, 1",
      time: 0.2
    });
    if (this.verificationFn) {
      return cardOut.on(Events.AnimationEnd, (function(_this) {
        return function() {
          return _this.nextCard(card);
        };
      })(this));
    } else {
      return this.nextCard(card);
    }
  };

  DraggableDeck.prototype.acceptCard = function(card) {
    var cardOut;
    cardOut = card.animate({
      properties: {
        x: this.width + 1400
      },
      curve: "cubic-bezier(0.0, 0.0, 0.2, 1",
      time: 0.2
    });
    if (this.verificationFn) {
      return cardOut.on(Events.AnimationEnd, (function(_this) {
        return function() {
          if (!_this.verificationFn(card)) {
            return _this.nextCard(card);
          }
        };
      })(this));
    } else {
      return this.nextCard(card);
    }
  };

  DraggableDeck.prototype.checkMatch = function(card) {
    return false;
  };

  DraggableDeck.prototype.makeCardDraggable = function(card) {
    card.draggable.enabled = true;
    card.draggable.constraints = {
      x: card.x,
      y: card.y,
      width: 1015,
      height: 955
    };
    card.draggable.overdragScale = 1.1;
    card.on(Events.DragStart, (function(_this) {
      return function() {
        return _this.emit(DraggableDeck.DeckEvents.DragStart);
      };
    })(this));
    card.on(Events.Drag, (function(_this) {
      return function() {
        var end, eventObj, start;
        eventObj = {
          x: card.x,
          side: 'neutral'
        };
        if (card.x > card.draggable.constraints.x) {
          start = card.draggable.constraints.x;
          end = card.draggable.constraints.x + card.width / 2;
          card.rotation = Utils.modulate(card.x, [start, 1080], [0, 14], true);
          eventObj.left = Utils.modulate(card.x, [start, end], [0, -1], true);
          eventObj.right = Utils.modulate(card.x, [start, end], [0, 1], true);
        } else if (card.x <= card.draggable.constraints.x) {
          start = card.draggable.constraints.x;
          end = card.draggable.constraints.x - card.width / 2;
          card.rotation = Utils.modulate(card.x, [start, -1080], [0, -14], true);
          eventObj.left = Utils.modulate(card.x, [start, end], [0, 1], true);
          eventObj.right = Utils.modulate(card.x, [start, end], [0, -1], true);
        }
        card.scale = Utils.modulate(card.x, [start, end], [1, 0.9], true);
        if (Math.abs(card.x - card.draggable.constraints.x) > _this.selectionThreshold) {
          eventObj.side = card.x < card.draggable.constraints.x ? 'left' : 'right';
        }
        return _this.emit(DraggableDeck.DeckEvents.DragMove, eventObj);
      };
    })(this));
    return card.on(Events.DragEnd, (function(_this) {
      return function() {
        if (card.x < -350) {
          _this.rejectCard(card);
          _this.emit(DraggableDeck.DeckEvents.DropLeft);
        } else if (card.x > 380) {
          _this.acceptCard(card);
          _this.emit(DraggableDeck.DeckEvents.DropRight);
        } else {
          _this.emit(DraggableDeck.DeckEvents.DropCenter);
          card.animate({
            properties: {
              x: card.startX,
              y: card.startY,
              rotation: 0,
              opacity: 1,
              scale: 1
            },
            curve: "cubic-bezier(0.0, 0.0, 0.2, 1",
            time: 0.4
          });
        }
        return _this.emit(DraggableDeck.DeckEvents.DragEnd);
      };
    })(this));
  };

  return DraggableDeck;

})(Framer.Layer);



},{"DeckDataSource":"DeckDataSource","DeckDefaultCard":"DeckDefaultCard"}]},{},[])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvam9yZGkvRG9jdW1lbnRzL1Byb2plY3RzL2dpdGh1Yi9mcmFtZXJNb2R1bGVzL0RyYWdEZWNrRXhhbXBsZS5mcmFtZXIvbW9kdWxlcy9EZWNrRGF0YVNvdXJjZS5jb2ZmZWUiLCIvVXNlcnMvam9yZGkvRG9jdW1lbnRzL1Byb2plY3RzL2dpdGh1Yi9mcmFtZXJNb2R1bGVzL0RyYWdEZWNrRXhhbXBsZS5mcmFtZXIvbW9kdWxlcy9EZWNrRGVmYXVsdENhcmQuY29mZmVlIiwiL1VzZXJzL2pvcmRpL0RvY3VtZW50cy9Qcm9qZWN0cy9naXRodWIvZnJhbWVyTW9kdWxlcy9EcmFnRGVja0V4YW1wbGUuZnJhbWVyL21vZHVsZXMvRHJhZ2dhYmxlRGVjay5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNDQSxJQUFBLElBQUE7RUFBQTs2QkFBQTs7QUFBQSxJQUFBLEdBQU8sT0FBQSxDQUFRLGlCQUFSLENBQVAsQ0FBQTs7QUFBQSxNQUVZLENBQUM7QUFHUCxvQ0FBQSxDQUFBOztBQUFjLEVBQUEsd0JBQUMsSUFBRCxHQUFBOztNQUFDLE9BQU87S0FFaEI7O01BQUEsSUFBSSxDQUFDLGdCQUFzQixJQUFJLENBQUM7S0FBaEM7O01BQ0EsSUFBSSxDQUFDLE9BQXNCO0tBRDNCO0FBQUEsSUFHQSxJQUFDLENBQUEsUUFBRCxHQUFZLElBQUksQ0FBQyxhQUhqQixDQUFBO0FBQUEsSUFNQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsS0FBQSxDQUNOO0FBQUEsTUFBQSxJQUFBLEVBQU8sK0JBQVA7QUFBQSxNQUNBLENBQUEsRUFBRyxDQURIO0FBQUEsTUFFQSxDQUFBLEVBQUcsQ0FGSDtBQUFBLE1BR0EsSUFBQSxFQUFPLElBSFA7QUFBQSxNQUlBLGVBQUEsRUFBa0IsS0FKbEI7S0FETSxDQU5aLENBQUE7QUFBQSxJQWFB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QUMsUUFBL0IsQ0FEQSxDQUROO1NBQUEsTUFLSyxJQUFHLElBQUksQ0FBQyxDQUFMLEdBQVMsR0FBWjtBQUNDLFVBQUEsS0FBQyxDQUFBLFVBQUQsQ0FBWSxJQUFaLENBQUEsQ0FBQTtBQUFBLFVBQ0EsS0FBQyxDQUFBLElBQUQsQ0FBTSxhQUFhLENBQUMsVUFBVSxDQUFDLFNBQS9CLENBREEsQ0FERDtTQUFBLE1BQUE7QUFNQyxVQUFBLEtBQUMsQ0FBQSxJQUFELENBQU0sYUFBYSxDQUFDLFVBQVUsQ0FBQyxVQUEvQixDQUFBLENBQUE7QUFBQSxVQUNBLElBQUksQ0FBQyxPQUFMLENBQ007QUFBQSxZQUFBLFVBQUEsRUFDTTtBQUFBLGNBQUEsQ0FBQSxFQUFJLElBQUksQ0FBQyxNQUFUO0FBQUEsY0FDQSxDQUFBLEVBQUksSUFBSSxDQUFDLE1BRFQ7QUFBQSxjQUVBLFFBQUEsRUFBUyxDQUZUO0FBQUEsY0FHQSxPQUFBLEVBQVEsQ0FIUjtBQUFBLGNBSUEsS0FBQSxFQUFNLENBSk47YUFETjtBQUFBLFlBTUEsS0FBQSxFQUFRLCtCQU5SO0FBQUEsWUFPQSxJQUFBLEVBQU8sR0FQUDtXQUROLENBREEsQ0FORDtTQUxMO2VBc0JBLEtBQUMsQ0FBQSxJQUFELENBQU0sYUFBYSxDQUFDLFVBQVUsQ0FBQyxPQUEvQixFQXpCa0I7TUFBQSxFQUFBO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUF4QixFQWxEYztFQUFBLENBcElwQixDQUFBOzt1QkFBQTs7R0FGNkIsTUFBTSxDQUFDLE1BSDFDLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG5DYXJkID0gcmVxdWlyZSAnRGVja0RlZmF1bHRDYXJkJ1xuXG5jbGFzcyB3aW5kb3cuRGVja0RhdGFTb3VyY2UgZXh0ZW5kcyBGcmFtZXIuQmFzZUNsYXNzXG5cblxuICAgICAgY29uc3RydWN0b3IgOiAob3B0cyA9IHt9KSAtPlxuXG4gICAgICAgICAgICBvcHRzLmNhcmRWaWV3TW9kZWwgICAgICA/PSBDYXJkLkRlY2tDYXJkXG4gICAgICAgICAgICBvcHRzLmluZm8gICAgICAgICAgICAgICA/PSBudWxsXG5cbiAgICAgICAgICAgIEBjYXJkVHlwZSA9IG9wdHMuY2FyZFZpZXdNb2RlbFxuXG5cbiAgICAgICAgICAgIEB2aWV3ID0gbmV3IExheWVyXG4gICAgICAgICAgICAgICAgICBuYW1lIDogJ19fZGVja0RhdGFTb3VyY2VWaWV3Q29udGFpbmVyJ1xuICAgICAgICAgICAgICAgICAgeCA6MFxuICAgICAgICAgICAgICAgICAgeSA6MFxuICAgICAgICAgICAgICAgICAgY2xpcCA6IHRydWVcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA6IGZhbHNlXG5cbiAgICAgICAgICAgIEBjYXJkcyA9IFtdXG5cbiAgICAgICAgICAgIGlmIG9wdHMuaW5mb1xuICAgICAgICAgICAgICAgICAgQGNyZWF0ZUNhcmRzIG9wdHMuaW5mb1xuXG4gICAgICBAZGVmaW5lICdjYXJkVmlldycsXG4gICAgICAgICAgICBnZXQgOiAoKSAtPiBAY2FyZFR5cGVcbiAgICAgICAgICAgIHNldCA6ICh2aWV3Q2xhc3MpIC0+XG4gICAgICAgICAgICAgICAgICBAY2FyZFR5cGUgPSB2aWV3Q2xhc3NcblxuXG4gICAgICBjcmVhdGVDYXJkcyA6IChpbmZvT2JqKSAtPlxuXG4gICAgICAgICAgICBmb3Igb2JqIGluIGluZm9PYmpcbiAgICAgICAgICAgICAgICAgIGMgPSBuZXcgQGNhcmRUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogXCJEZWNrQ2FyZCBcIiArIEBjYXJkcy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgIGMuc3VwZXJMYXllciA9IEB2aWV3XG5cbiAgICAgICAgICAgICAgICAgIGZvciBwLCB2IG9mIG9ialxuICAgICAgICAgICAgICAgICAgICAgICAgY1twXSA9IHZcblxuICAgICAgICAgICAgICAgICAgQGNhcmRzLnB1c2ggY1xuXG5cbiAgICAgIGdldEFsbCA6ICgpIC0+XG4gICAgICAgICAgICBAY2FyZHNcbiIsIlxuXG5cbmNsYXNzIGV4cG9ydHMuRGVja0NhcmQgZXh0ZW5kcyBMYXllclxuXG5cbiAgICAgIGNvbnN0cnVjdG9yIDogKG9wdHMgPXt9KSAtPlxuXG4gICAgICAgICAgICBvcHRzLndpZHRoICAgICAgICA9IDY4MFxuICAgICAgICAgICAgb3B0cy5oZWlnaHQgICAgICAgPSA1NTBcbiAgICAgICAgICAgIG9wdHMuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJ1xuICAgICAgICAgICAgb3B0cy5zaGFkb3dZICAgICAgID0gOFxuICAgICAgICAgICAgb3B0cy5zaGFkb3dCbHVyICAgID0gOFxuICAgICAgICAgICAgb3B0cy5zaGFkb3dDb2xvciAgID0gJ3JnYmEoMCwgMCwgMCwgLjMpJ1xuICAgICAgICAgICAgb3B0cy5zdXBlckxheWVyICAgPz0gbnVsbFxuICAgICAgICAgICAgc3VwZXIgb3B0c1xuXG4gICAgICAgICAgICBAbmFtZUZpZWxkID0gbmV3IExheWVyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgc3VwZXJMYXllciAgICAgIDogQFxuICAgICAgICAgICAgICAgICAgeSAgICAgOiA0ODBcbiAgICAgICAgICAgICAgICAgIHdpZHRoIDogQHdpZHRoXG5cbiAgICAgICAgICAgIEBuYW1lRmllbGQuc3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAnY29sb3InIDogJyM1NTUnLFxuICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZScgOiAnMjBwdCcsXG4gICAgICAgICAgICAgICAgICAndGV4dC1hbGlnbicgICAgIDogJ2NlbnRlcidcbiAgICAgICAgICAgIH1cblxuICAgICAgQGRlZmluZSAndGl0bGUnLFxuICAgICAgICAgICAgc2V0IDogKG5hbWVTdHIpIC0+XG4gICAgICAgICAgICAgICAgICBAbmFtZUZpZWxkLmh0bWwgPSBuYW1lU3RyXG5cblxuICAgICAgQGRlZmluZSAnaW1nJyxcbiAgICAgICAgICAgIHNldCA6IChpbWdVcmwpIC0+XG5cbiAgICAgICAgICAgICAgICAgIF9pbWcgPSBuZXcgTGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyTGF5ZXIgOiBAXG4gICAgICAgICAgICAgICAgICAgICAgICB4IDogNDRcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgOiA0NFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggOiBAd2lkdGggLSA4OFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IDogQGhlaWdodCAtIDE0OFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgOiBpbWdVcmwgICAgICAgICAgICAgICAgICBcbiIsInJlcXVpcmUgJ0RlY2tEYXRhU291cmNlJ1xuQ2FyZCA9IHJlcXVpcmUgJ0RlY2tEZWZhdWx0Q2FyZCdcblxuY2xhc3Mgd2luZG93LkRyYWdnYWJsZURlY2sgZXh0ZW5kcyBGcmFtZXIuTGF5ZXJcblxuICAgICAgQERlY2tFdmVudHMgPVxuICAgICAgICAgICAgRHJhZ1N0YXJ0ICAgOiAnZHJhZ3N0YXJ0J1xuICAgICAgICAgICAgRHJhZ01vdmUgICAgOiAnZHJhZ2dpbmcnXG4gICAgICAgICAgICBEcmFnRW5kICAgICA6ICdkcmFnbW92ZSdcbiAgICAgICAgICAgIERyb3BMZWZ0ICAgIDogJ2Ryb3BsZWZ0J1xuICAgICAgICAgICAgRHJvcFJpZ2h0ICAgOiAnZHJvcHJpZ2h0J1xuICAgICAgICAgICAgRHJvcENlbnRlciAgOiAnZHJvcGNlbnRlcidcbiAgICAgICAgICAgIEVtcHR5ICAgICAgIDogJ2VtcHR5J1xuICAgICAgICAgICAgTmV4dCAgICAgICAgOiAnbmV4dCdcblxuXG4gICAgICBSRVZFQUxfVFlQRSA9XG4gICAgICAgICAgICByZXZlYWxBbGwgOiAncmV2ZWFsYWxsJ1xuICAgICAgICAgICAgb25lYnlvbmUgOiAnb25lYnlvbmUnXG5cblxuICAgICAgY29uc3RydWN0b3IgOiAob3B0cyA9IHt9KSAtPlxuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgXCJOTyBEQVRBIFNPVVJDRT8gXCIgaWYgIW9wdHMuZGF0YVNvdXJjZVxuXG4gICAgICAgICAgICBvcHRzLndpZHRoICAgICAgICAgICAgICA/PSBTY3JlZW4ud2lkdGhcbiAgICAgICAgICAgIG9wdHMuaGVpZ2h0ICAgICAgICAgICAgID89IFNjcmVlbi5oZWlnaHRcbiAgICAgICAgICAgIG9wdHMuYmFja2dyb3VuZENvbG9yICAgID89IGZhbHNlXG4gICAgICAgICAgICBvcHRzLnBlcnNwZWN0aXZlICAgICAgICA9IDUwMFxuICAgICAgICAgICAgb3B0cy5jbGlwICAgICAgICAgICAgICAgPz0gZmFsc2VcbiAgICAgICAgICAgIG9wdHMucGFkZGluZ1kgICAgICAgICAgID89IDBcbiAgICAgICAgICAgIG9wdHMuZGF0YVNvdXJjZSAgICAgICAgID89IG51bGxcblxuICAgICAgICAgICAgc3VwZXIgb3B0c1xuXG4gICAgICAgICAgICBvcHRzLnZlcmlmaWNhdGlvbkZuICAgICA9IG51bGxcbiAgICAgICAgICAgIG9wdHMuc3RhcnRaICAgICAgICAgICAgID89IDBcbiAgICAgICAgICAgIG9wdHMuY2FyZFBhZGRpbmcgICAgICAgID89IDE1XG4gICAgICAgICAgICBvcHRzLmNhcmRaUGFkZGluZyAgICAgICA/PSAxMFxuXG5cbiAgICAgICAgICAgIEB0eXBlICAgICAgICAgICAgID0gUkVWRUFMX1RZUEUucmV2ZWFsQWxsXG4gICAgICAgICAgICBAc3RhcnRaICAgICAgICAgICA9IG9wdHMuc3RhcnRaXG4gICAgICAgICAgICBAY2FyZFBhZGRpbmcgICAgICA9IG9wdHMuY2FyZFBhZGRpbmdcbiAgICAgICAgICAgIEBjYXJkWlBhZGRpbmcgICAgID0gb3B0cy5jYXJkWlBhZGRpbmdcbiAgICAgICAgICAgIEBwYWRkaW5nWSAgICAgICAgID0gb3B0cy5wYWRkaW5nWVxuICAgICAgICAgICAgQHNlbGVjdGlvblRocmVzaG9sZCA9IDEwMFxuXG5cbiAgICAgICAgICAgIEBjYXJkc0xpc3QgPSBbXVxuXG4gICAgICAgICAgICBpZiBvcHRzLmRhdGFTb3VyY2VcbiAgICAgICAgICAgICAgICAgIEBfZGF0YVNvdXJjZSA9IG9wdHMuZGF0YVNvdXJjZVxuICAgICAgICAgICAgICAgICAgQGxvYWRDYXJkcygpXG5cblxuXG5cbiAgICAgIGxvYWRDYXJkcyA6ICgpIC0+XG5cbiAgICAgICAgICAgICMgb25seSB3b3JrcyBmb3IgUkVWRUFMX0FMTFxuXG4gICAgICAgICAgICBhbGxDYXJkcyA9IEBfZGF0YVNvdXJjZS5nZXRBbGwoKS5yZXZlcnNlKClcbiAgICAgICAgICAgIEBjYXJkc0xpc3QgPSBbXVxuXG5cbiAgICAgICAgICAgIGZvciBjYXJkLGkgaW4gYWxsQ2FyZHNcblxuICAgICAgICAgICAgICAgICAgY2FyZC5zdXBlckxheWVyID0gQFxuICAgICAgICAgICAgICAgICAgY2FyZC5jZW50ZXJYKClcbiAgICAgICAgICAgICAgICAgIGNhcmQueSA9IEBwYWRkaW5nWSArIChhbGxDYXJkcy5sZW5ndGggLSBpIC0gMSkgKiBAY2FyZFBhZGRpbmdcbiAgICAgICAgICAgICAgICAgIGNhcmQueiA9ICAtQHN0YXJ0WiArIChhbGxDYXJkcy5sZW5ndGggLSBpIC0gMSApICogLUBjYXJkWlBhZGRpbmdcbiAgICAgICAgICAgICAgICAgIGNhcmQuc3RhcnRYID0gY2FyZC54XG4gICAgICAgICAgICAgICAgICBjYXJkLnN0YXJ0WSA9IEBwYWRkaW5nWVxuXG4gICAgICAgICAgICAgICAgICBAY2FyZHNMaXN0LnB1c2ggY2FyZFxuXG4gICAgICAgICAgICAgICAgICBAbWFrZUNhcmREcmFnZ2FibGUgY2FyZFxuXG5cbiAgICAgIG5leHRDYXJkIDogKGNhcmQpIC0+XG5cbiAgICAgICAgICAgIGZvciBjLGkgaW4gQGNhcmRzTGlzdFxuICAgICAgICAgICAgICAgICAgaWYgYyBpcyBjYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2FyZHNMaXN0LnNwbGljZShpLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgaWYgQGNhcmRzTGlzdC5sZW5ndGggPT0gMFxuICAgICAgICAgICAgICAgICAgQGVtaXQgRHJhZ2dhYmxlRGVjay5EZWNrRXZlbnRzLkVtcHR5XG4gICAgICAgICAgICAgICAgICByZXR1cm5cblxuXG4gICAgICAgICAgICBmb3IgYywgaSBpbiBAY2FyZHNMaXN0XG4gICAgICAgICAgICAgICAgICBjLmFuaW1hdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA6IEBwYWRkaW5nWSArIChAY2FyZHNMaXN0Lmxlbmd0aCAtIGkgLSAxKSAqIEBjYXJkUGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeiA6IC1Ac3RhcnRaICsgKEBjYXJkc0xpc3QubGVuZ3RoIC0gaSAtIDEgKSAqIC1AY2FyZFpQYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lIDogLjJcblxuXG5cblxuXG4gICAgICByZWplY3RDYXJkIDogKGNhcmQpIC0+XG5cbiAgICAgICAgICAgIGNhcmRPdXQgPSBjYXJkLmFuaW1hdGVcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgOiB4IDogLTE0MDBcbiAgICAgICAgICAgICAgICAgIGN1cnZlIDogXCJjdWJpYy1iZXppZXIoMC4wLCAwLjAsIDAuMiwgMVwiXG4gICAgICAgICAgICAgICAgICB0aW1lIDogMC4yXG5cbiAgICAgICAgICAgIGlmIEB2ZXJpZmljYXRpb25GblxuICAgICAgICAgICAgICAgICAgY2FyZE91dC5vbiBFdmVudHMuQW5pbWF0aW9uRW5kLCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgQG5leHRDYXJkKGNhcmQpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBAbmV4dENhcmQoY2FyZClcblxuXG4gICAgICBhY2NlcHRDYXJkIDogKGNhcmQpIC0+XG5cbiAgICAgICAgICAgIGNhcmRPdXQgPSBjYXJkLmFuaW1hdGVcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICB4IDogQHdpZHRoICsgMTQwMFxuICAgICAgICAgICAgICAgICAgY3VydmUgOiBcImN1YmljLWJlemllcigwLjAsIDAuMCwgMC4yLCAxXCJcbiAgICAgICAgICAgICAgICAgIHRpbWUgOiAwLjJcblxuICAgICAgICAgICAgaWYgQHZlcmlmaWNhdGlvbkZuXG4gICAgICAgICAgICAgICAgICBjYXJkT3V0Lm9uIEV2ZW50cy5BbmltYXRpb25FbmQsID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAhQHZlcmlmaWNhdGlvbkZuKGNhcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAbmV4dENhcmQoY2FyZClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgIEBuZXh0Q2FyZChjYXJkKVxuXG4gICAgICBjaGVja01hdGNoIDogKGNhcmQpIC0+XG4gICAgICAgICAgICAjIHByaW50IFwiY2FyZCA9ICN7Y2FyZH1cIlxuICAgICAgICAgICAgZmFsc2VcblxuXG4gICAgICBtYWtlQ2FyZERyYWdnYWJsZSA6IChjYXJkKSAtPlxuXG4gICAgICAgICAgICBjYXJkLmRyYWdnYWJsZS5lbmFibGVkID0gdHJ1ZVxuICAgICAgICAgICAgY2FyZC5kcmFnZ2FibGUuY29uc3RyYWludHMgPVxuICAgICAgICAgICAgICAgICAgeCA6IGNhcmQueFxuICAgICAgICAgICAgICAgICAgeSA6IGNhcmQueVxuICAgICAgICAgICAgICAgICAgd2lkdGggOiAxMDE1XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgOiA5NTVcblxuICAgICAgICAgICAgY2FyZC5kcmFnZ2FibGUub3ZlcmRyYWdTY2FsZSA9IDEuMVxuXG4gICAgICAgICAgICBjYXJkLm9uIEV2ZW50cy5EcmFnU3RhcnQsID0+XG4gICAgICAgICAgICAgICAgICBAZW1pdCBEcmFnZ2FibGVEZWNrLkRlY2tFdmVudHMuRHJhZ1N0YXJ0XG5cblxuICAgICAgICAgICAgY2FyZC5vbiBFdmVudHMuRHJhZywgPT5cblxuXG4gICAgICAgICAgICAgICAgICBldmVudE9iaiA9XG4gICAgICAgICAgICAgICAgICAgICAgICB4IDogY2FyZC54XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWRlIDogJ25ldXRyYWwnXG5cblxuICAgICAgICAgICAgICAgICAgaWYgY2FyZC54ID4gY2FyZC5kcmFnZ2FibGUuY29uc3RyYWludHMueFxuXHRcdFx0IyBsaWtlXG4gICAgICAgICAgICAgICAgICAgICAgICAjIHNldEljb25TdGF0ZSh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBjYXJkLmRyYWdnYWJsZS5jb25zdHJhaW50cy54XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBjYXJkLmRyYWdnYWJsZS5jb25zdHJhaW50cy54ICsgY2FyZC53aWR0aC8yXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnJvdGF0aW9uID0gVXRpbHMubW9kdWxhdGUgY2FyZC54LCBbc3RhcnQsMTA4MF0sIFswLDE0XSwgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmoubGVmdCA9IFV0aWxzLm1vZHVsYXRlIGNhcmQueCwgW3N0YXJ0LCBlbmRdLCBbMCwgLTFdLCB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE9iai5yaWdodCA9IFV0aWxzLm1vZHVsYXRlIGNhcmQueCwgW3N0YXJ0LCBlbmRdLCAgWzAsIDFdLCB0cnVlXG5cblxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiBjYXJkLnggPD0gY2FyZC5kcmFnZ2FibGUuY29uc3RyYWludHMueFxuXHRcdFx0IyByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICMgc2V0SWNvblN0YXRlKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBjYXJkLmRyYWdnYWJsZS5jb25zdHJhaW50cy54XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBjYXJkLmRyYWdnYWJsZS5jb25zdHJhaW50cy54LWNhcmQud2lkdGgvMlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5yb3RhdGlvbiA9IFV0aWxzLm1vZHVsYXRlIGNhcmQueCwgW3N0YXJ0LC0xMDgwXSwgWzAsLTE0XSwgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmoubGVmdCA9IFV0aWxzLm1vZHVsYXRlIGNhcmQueCwgW3N0YXJ0LCBlbmRdLCBbMCwgMV0sIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqLnJpZ2h0ID0gVXRpbHMubW9kdWxhdGUgY2FyZC54LCBbc3RhcnQsIGVuZF0sIFswLCAtMV0sIHRydWVcblxuICAgICAgICAgICAgICAgICAgY2FyZC5zY2FsZSA9IFV0aWxzLm1vZHVsYXRlIGNhcmQueCwgW3N0YXJ0LGVuZF0sIFsxLDAuOV0sIHRydWVcblxuICAgICAgICAgICAgICAgICAgaWYgTWF0aC5hYnMoY2FyZC54LWNhcmQuZHJhZ2dhYmxlLmNvbnN0cmFpbnRzLngpID4gQHNlbGVjdGlvblRocmVzaG9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmouc2lkZSA9IGlmIGNhcmQueCA8IGNhcmQuZHJhZ2dhYmxlLmNvbnN0cmFpbnRzLnggdGhlbiAnbGVmdCcgIGVsc2UgJ3JpZ2h0J1xuXG4gICAgICAgICAgICAgICAgICBAZW1pdCBEcmFnZ2FibGVEZWNrLkRlY2tFdmVudHMuRHJhZ01vdmUsIGV2ZW50T2JqXG5cblxuICAgICAgICAgICAgY2FyZC5vbiBFdmVudHMuRHJhZ0VuZCwgPT5cbiAgICAgICAgICAgICAgICAgICMgcmVqZWN0XG5cbiAgICAgICAgICAgICAgICAgIGlmIGNhcmQueCA8IC0zNTBcbiAgICAgICAgICAgICAgICAgICAgICAgIEByZWplY3RDYXJkIGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBlbWl0IERyYWdnYWJsZURlY2suRGVja0V2ZW50cy5Ecm9wTGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgIyByZWplY3QgY2FyZFxuICAgICAgICAgICAgICAgICAgI2FjY2VwdFxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiBjYXJkLnggPiAzODBcbiAgICAgICAgICAgICAgICAgICAgICAgIEBhY2NlcHRDYXJkIGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBlbWl0IERyYWdnYWJsZURlY2suRGVja0V2ZW50cy5Ecm9wUmlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICMgbWF0Y2ggY2FyZFxuICAgICAgICAgICAgICAgICAgIyBuZWl0aGVyXG4gICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBAZW1pdCBEcmFnZ2FibGVEZWNrLkRlY2tFdmVudHMuRHJvcENlbnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5hbmltYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA6IGNhcmQuc3RhcnRYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5IDogY2FyZC5zdGFydFlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6MVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6MVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUgOiBcImN1YmljLWJlemllcigwLjAsIDAuMCwgMC4yLCAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgOiAwLjRcblxuICAgICAgICAgICAgICAgICAgQGVtaXQgRHJhZ2dhYmxlRGVjay5EZWNrRXZlbnRzLkRyYWdFbmRcbiJdfQ==
